// Some docs
// http://www.html5rocks.com/en/tutorials/webcomponents/customelements/ (look at lifecycle callback methods)
var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var TsView = (function (_super) {
    __extends(TsView, _super);
    function TsView() {
        _super.apply(this, arguments);
    }
    TsView.prototype.createdCallback = function () {
        var preview = this.innerText;
        this.innerText = "";
        this.editor = atom.workspace.buildTextEditor({
            lineNumberGutterVisible: false,
            softWrapped: true,
            mini: true,
        });
        var editorElement = atom.views.getView(this.editor);
        editorElement.removeAttribute("tabindex"); // make read-only
        this.editor.setText(preview);
        this.editor.setGrammar(atom.grammars.grammarForScopeName("source.tsx"));
        this.editor.scrollToBufferPosition([0, 0]);
        this.appendChild(editorElement);
    };
    // API
    TsView.prototype.text = function (text) {
        this.editor.setText(text);
    };
    return TsView;
})(HTMLElement);
exports.TsView = TsView;
;
document.registerElement("ts-view", TsView);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3NoYW5ub25iZXJ0dWNjaS8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vYXRvbS9jb21wb25lbnRzL3RzVmlldy50cyIsInNvdXJjZXMiOlsiL1VzZXJzL3NoYW5ub25iZXJ0dWNjaS8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vYXRvbS9jb21wb25lbnRzL3RzVmlldy50cyJdLCJuYW1lcyI6WyJUc1ZpZXciLCJUc1ZpZXcuY29uc3RydWN0b3IiLCJUc1ZpZXcuY3JlYXRlZENhbGxiYWNrIiwiVHNWaWV3LnRleHQiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7QUFDWiw0R0FBNEc7Ozs7Ozs7QUFFNUcsSUFBYSxNQUFNO0lBQVNBLFVBQWZBLE1BQU1BLFVBQW9CQTtJQUF2Q0EsU0FBYUEsTUFBTUE7UUFBU0MsOEJBQVdBO0lBeUJ2Q0EsQ0FBQ0E7SUF0QkNELGdDQUFlQSxHQUFmQTtRQUNFRSxJQUFJQSxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFBQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsRUFBRUEsQ0FBQUE7UUFFbkJBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLGVBQWVBLENBQUNBO1lBQzNDQSx1QkFBdUJBLEVBQUVBLEtBQUtBO1lBQzlCQSxXQUFXQSxFQUFFQSxJQUFJQTtZQUNqQkEsSUFBSUEsRUFBRUEsSUFBSUE7U0FDWEEsQ0FBQ0EsQ0FBQUE7UUFDRkEsSUFBSUEsYUFBYUEsR0FBZ0JBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUFBO1FBQ2hFQSxhQUFhQSxDQUFDQSxlQUFlQSxDQUFDQSxVQUFVQSxDQUFDQSxFQUFDQSxpQkFBaUJBO1FBQzNEQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFBQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUN2RUEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0Esc0JBQXNCQSxDQUFDQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUUxQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQUE7SUFDakNBLENBQUNBO0lBRURGLE1BQU1BO0lBQ05BLHFCQUFJQSxHQUFKQSxVQUFLQSxJQUFZQTtRQUNmRyxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFBQTtJQUMzQkEsQ0FBQ0E7SUFDSEgsYUFBQ0E7QUFBREEsQ0FBQ0EsQUF6QkQsRUFBNEIsV0FBVyxFQXlCdEM7QUF6QlksY0FBTSxHQUFOLE1BeUJaLENBQUE7QUFFRCxDQUFDO0FBQU0sUUFBUyxDQUFDLGVBQWUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTb21lIGRvY3Ncbi8vIGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3dlYmNvbXBvbmVudHMvY3VzdG9tZWxlbWVudHMvIChsb29rIGF0IGxpZmVjeWNsZSBjYWxsYmFjayBtZXRob2RzKVxuXG5leHBvcnQgY2xhc3MgVHNWaWV3IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBlZGl0b3JFbGVtZW50OiBIVE1MRWxlbWVudFxuICBlZGl0b3I6IEF0b21Db3JlLklFZGl0b3JcbiAgY3JlYXRlZENhbGxiYWNrKCkge1xuICAgIHZhciBwcmV2aWV3ID0gdGhpcy5pbm5lclRleHRcbiAgICB0aGlzLmlubmVyVGV4dCA9IFwiXCJcblxuICAgIHRoaXMuZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuYnVpbGRUZXh0RWRpdG9yKHtcbiAgICAgIGxpbmVOdW1iZXJHdXR0ZXJWaXNpYmxlOiBmYWxzZSxcbiAgICAgIHNvZnRXcmFwcGVkOiB0cnVlLFxuICAgICAgbWluaTogdHJ1ZSxcbiAgICB9KVxuICAgIHZhciBlZGl0b3JFbGVtZW50OiBIVE1MRWxlbWVudCA9IGF0b20udmlld3MuZ2V0Vmlldyh0aGlzLmVkaXRvcilcbiAgICBlZGl0b3JFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpIC8vIG1ha2UgcmVhZC1vbmx5XG4gICAgdGhpcy5lZGl0b3Iuc2V0VGV4dChwcmV2aWV3KVxuICAgIHRoaXMuZWRpdG9yLnNldEdyYW1tYXIoYXRvbS5ncmFtbWFycy5ncmFtbWFyRm9yU2NvcGVOYW1lKFwic291cmNlLnRzeFwiKSlcbiAgICB0aGlzLmVkaXRvci5zY3JvbGxUb0J1ZmZlclBvc2l0aW9uKFswLCAwXSlcblxuICAgIHRoaXMuYXBwZW5kQ2hpbGQoZWRpdG9yRWxlbWVudClcbiAgfVxuXG4gIC8vIEFQSVxuICB0ZXh0KHRleHQ6IHN0cmluZykge1xuICAgIHRoaXMuZWRpdG9yLnNldFRleHQodGV4dClcbiAgfVxufVxuXG47KDxhbnk+ZG9jdW1lbnQpLnJlZ2lzdGVyRWxlbWVudChcInRzLXZpZXdcIiwgVHNWaWV3KVxuIl19