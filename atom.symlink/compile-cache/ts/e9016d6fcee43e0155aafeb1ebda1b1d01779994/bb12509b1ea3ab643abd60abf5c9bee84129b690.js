var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var view = require('./view');
var $ = view.$;
var TooltipView = (function (_super) {
    __extends(TooltipView, _super);
    function TooltipView(rect) {
        _super.call(this, rect);
        this.rect = rect;
        $(document.body).append(this.$);
        this.updatePosition();
    }
    TooltipView.content = function () {
        var _this = this;
        return this.div({ class: 'atom-typescript-tooltip tooltip' }, function () {
            _this.div({ class: 'tooltip-inner', outlet: 'inner' });
        });
    };
    TooltipView.prototype.updateText = function (text) {
        this.inner.html(text);
        this.updatePosition();
        this.$.fadeTo(300, 1);
    };
    TooltipView.prototype.updatePosition = function () {
        var offset = 10;
        var left = this.rect.right;
        var top = this.rect.bottom;
        var right = undefined;
        // X axis adjust
        if (left + this.$[0].offsetWidth >= view.$(document.body).width())
            left = view.$(document.body).width() - this.$[0].offsetWidth - offset;
        if (left < 0) {
            this.$.css({ 'white-space': 'pre-wrap' });
            left = offset;
            right = offset;
        }
        // Y axis adjust
        if (top + this.$[0].offsetHeight >= $(document.body).height()) {
            top = this.rect.top - this.$[0].offsetHeight;
        }
        this.$.css({ left: left, top: top, right: right });
    };
    return TooltipView;
})(view.View);
exports.TooltipView = TooltipView;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3NoYW5ub25iZXJ0dWNjaS8uZG90ZmlsZXMvYXRvbS5zeW1saW5rL3BhY2thZ2VzL2F0b20tdHlwZXNjcmlwdC9saWIvbWFpbi9hdG9tL3ZpZXdzL3Rvb2x0aXBWaWV3LnRzIiwic291cmNlcyI6WyIvVXNlcnMvc2hhbm5vbmJlcnR1Y2NpLy5kb3RmaWxlcy9hdG9tLnN5bWxpbmsvcGFja2FnZXMvYXRvbS10eXBlc2NyaXB0L2xpYi9tYWluL2F0b20vdmlld3MvdG9vbHRpcFZpZXcudHMiXSwibmFtZXMiOlsiVG9vbHRpcFZpZXciLCJUb29sdGlwVmlldy5jb25zdHJ1Y3RvciIsIlRvb2x0aXBWaWV3LmNvbnRlbnQiLCJUb29sdGlwVmlldy51cGRhdGVUZXh0IiwiVG9vbHRpcFZpZXcudXBkYXRlUG9zaXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQU8sSUFBSSxXQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7QUFTZixJQUFhLFdBQVc7SUFBU0EsVUFBcEJBLFdBQVdBLFVBQXdCQTtJQUU1Q0EsU0FGU0EsV0FBV0EsQ0FFREEsSUFBVUE7UUFDekJDLGtCQUFNQSxJQUFJQSxDQUFDQSxDQUFDQTtRQURHQSxTQUFJQSxHQUFKQSxJQUFJQSxDQUFNQTtRQUV6QkEsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDaENBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBLENBQUFBO0lBQ3pCQSxDQUFDQTtJQUdNRCxtQkFBT0EsR0FBZEE7UUFBQUUsaUJBSUNBO1FBSEdBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEtBQUtBLEVBQUVBLGlDQUFpQ0EsRUFBRUEsRUFBRUE7WUFDMURBLEtBQUlBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLEtBQUtBLEVBQUVBLGVBQWVBLEVBQUVBLE1BQU1BLEVBQUVBLE9BQU9BLEVBQUVBLENBQUNBLENBQUFBO1FBQ3pEQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUNQQSxDQUFDQTtJQUVERixnQ0FBVUEsR0FBVkEsVUFBV0EsSUFBWUE7UUFDbkJHLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ3RCQSxJQUFJQSxDQUFDQSxjQUFjQSxFQUFFQSxDQUFDQTtRQUN0QkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDMUJBLENBQUNBO0lBRURILG9DQUFjQSxHQUFkQTtRQUNJSSxJQUFJQSxNQUFNQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNoQkEsSUFBSUEsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDM0JBLElBQUlBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBO1FBQzNCQSxJQUFJQSxLQUFLQSxHQUFHQSxTQUFTQSxDQUFDQTtRQUd0QkEsQUFEQUEsZ0JBQWdCQTtRQUNoQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsV0FBV0EsSUFBSUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFDOURBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFdBQVdBLEdBQUdBLE1BQU1BLENBQUNBO1FBQzFFQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNYQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxhQUFhQSxFQUFFQSxVQUFVQSxFQUFFQSxDQUFDQSxDQUFBQTtZQUN6Q0EsSUFBSUEsR0FBR0EsTUFBTUEsQ0FBQUE7WUFDYkEsS0FBS0EsR0FBR0EsTUFBTUEsQ0FBQUE7UUFDbEJBLENBQUNBO1FBR0RBLEFBREFBLGdCQUFnQkE7UUFDaEJBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFlBQVlBLElBQUlBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO1lBQzVEQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxZQUFZQSxDQUFBQTtRQUNoREEsQ0FBQ0E7UUFFREEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsSUFBSUEsTUFBQUEsRUFBRUEsR0FBR0EsS0FBQUEsRUFBRUEsS0FBS0EsT0FBQUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7SUFDckNBLENBQUNBO0lBQ0xKLGtCQUFDQTtBQUFEQSxDQUFDQSxBQTNDRCxFQUFpQyxJQUFJLENBQUMsSUFBSSxFQTJDekM7QUEzQ1ksbUJBQVcsR0FBWCxXQTJDWixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZpZXcgPSByZXF1aXJlKCcuL3ZpZXcnKTtcbnZhciAkID0gdmlldy4kO1xuXG5pbnRlcmZhY2UgUmVjdCB7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHJpZ2h0OiBudW1iZXI7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgYm90dG9tOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBUb29sdGlwVmlldyBleHRlbmRzIHZpZXcuVmlldzxSZWN0PiB7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVjdDogUmVjdCkge1xuICAgICAgICBzdXBlcihyZWN0KTtcbiAgICAgICAgJChkb2N1bWVudC5ib2R5KS5hcHBlbmQodGhpcy4kKTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbm5lcjogSlF1ZXJ5O1xuICAgIHN0YXRpYyBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXYoeyBjbGFzczogJ2F0b20tdHlwZXNjcmlwdC10b29sdGlwIHRvb2x0aXAnIH0sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGl2KHsgY2xhc3M6ICd0b29sdGlwLWlubmVyJywgb3V0bGV0OiAnaW5uZXInIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuaHRtbCh0ZXh0KTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLiQuZmFkZVRvKDMwMCwgMSk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSAxMDtcbiAgICAgICAgdmFyIGxlZnQgPSB0aGlzLnJlY3QucmlnaHQ7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLnJlY3QuYm90dG9tO1xuICAgICAgICB2YXIgcmlnaHQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gWCBheGlzIGFkanVzdFxuICAgICAgICBpZiAobGVmdCArIHRoaXMuJFswXS5vZmZzZXRXaWR0aCA+PSB2aWV3LiQoZG9jdW1lbnQuYm9keSkud2lkdGgoKSlcbiAgICAgICAgICAgIGxlZnQgPSB2aWV3LiQoZG9jdW1lbnQuYm9keSkud2lkdGgoKSAtIHRoaXMuJFswXS5vZmZzZXRXaWR0aCAtIG9mZnNldDtcbiAgICAgICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLiQuY3NzKHsgJ3doaXRlLXNwYWNlJzogJ3ByZS13cmFwJyB9KVxuICAgICAgICAgICAgbGVmdCA9IG9mZnNldFxuICAgICAgICAgICAgcmlnaHQgPSBvZmZzZXRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFkgYXhpcyBhZGp1c3RcbiAgICAgICAgaWYgKHRvcCArIHRoaXMuJFswXS5vZmZzZXRIZWlnaHQgPj0gJChkb2N1bWVudC5ib2R5KS5oZWlnaHQoKSkge1xuICAgICAgICAgICAgdG9wID0gdGhpcy5yZWN0LnRvcCAtIHRoaXMuJFswXS5vZmZzZXRIZWlnaHRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJC5jc3MoeyBsZWZ0LCB0b3AsIHJpZ2h0IH0pO1xuICAgIH1cbn1cbiJdfQ==
//# sourceURL=/Users/shannonbertucci/.dotfiles/atom.symlink/packages/atom-typescript/lib/main/atom/views/tooltipView.ts
